"use strict";                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
sap.ui.define(["sap/m/Dialog", "sap/m/Button"], function (Dialog, Button) {                                                                                                                                                                                    
  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }                                            
                                                                                                                                                                                                                                                               
  /**                                                                                                                                                                                                                                                          
   * @alias devepos.i18ncheck.model.util.AsyncDialog                                                                                                                                                                                                           
   */                                                                                                                                                                                                                                                          
  class AsyncDialog {                                                                                                                                                                                                                                          
    constructor(mParams) {                                                                                                                                                                                                                                     
      this._sTitle = (mParams === null || mParams === void 0 ? void 0 : mParams.title) || "Dialog";                                                                                                                                                            
      this._sWidth = (mParams === null || mParams === void 0 ? void 0 : mParams.width) || "50%";                                                                                                                                                               
      this._sHeight = (mParams === null || mParams === void 0 ? void 0 : mParams.height) || "50%";                                                                                                                                                             
                                                                                                                                                                                                                                                               
      this._createButtons(mParams === null || mParams === void 0 ? void 0 : mParams.buttons);                                                                                                                                                                  
                                                                                                                                                                                                                                                               
      this._aContent = mParams === null || mParams === void 0 ? void 0 : mParams.content;                                                                                                                                                                      
      this._oModel = mParams === null || mParams === void 0 ? void 0 : mParams.model;                                                                                                                                                                          
    }                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
    async showDialog(oDependent) {                                                                                                                                                                                                                             
      return new Promise(fnResolve => {                                                                                                                                                                                                                        
        this._oDependent = oDependent;                                                                                                                                                                                                                         
        this._oDialog = new Dialog({                                                                                                                                                                                                                           
          contentHeight: this._sHeight,                                                                                                                                                                                                                        
          contentWidth: this._sWidth,                                                                                                                                                                                                                          
          draggable: true,                                                                                                                                                                                                                                     
          content: this._aContent,                                                                                                                                                                                                                             
          title: this._sTitle,                                                                                                                                                                                                                                 
          buttons: this._aButtons,                                                                                                                                                                                                                             
          afterClose: oEvt => {                                                                                                                                                                                                                                
            var _this$_oDependent;                                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
            fnResolve(this._sCloseButton);                                                                                                                                                                                                                     
            (_this$_oDependent = this._oDependent) === null || _this$_oDependent === void 0 ? void 0 : _this$_oDependent.removeDependent(this._oDialog);                                                                                                       
                                                                                                                                                                                                                                                               
            this._oDialog.destroy();                                                                                                                                                                                                                           
          }                                                                                                                                                                                                                                                    
        });                                                                                                                                                                                                                                                    
        oDependent === null || oDependent === void 0 ? void 0 : oDependent.addDependent(this._oDialog);                                                                                                                                                        
                                                                                                                                                                                                                                                               
        if (this._oModel) {                                                                                                                                                                                                                                    
          this._oDialog.setModel(this._oModel);                                                                                                                                                                                                                
        }                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
        this._oDialog.open();                                                                                                                                                                                                                                  
      });                                                                                                                                                                                                                                                      
    }                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
    _createButtons(aButtons) {                                                                                                                                                                                                                                 
      if (aButtons) {                                                                                                                                                                                                                                          
        this._aButtons = [];                                                                                                                                                                                                                                   
        aButtons.forEach(mButtonConfig => {                                                                                                                                                                                                                    
          if (!!mButtonConfig.text && !mButtonConfig.icon) {                                                                                                                                                                                                   
            return;                                                                                                                                                                                                                                            
          }                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                               
          this._aButtons.push(new Button({                                                                                                                                                                                                                     
            text: mButtonConfig.text,                                                                                                                                                                                                                          
            icon: mButtonConfig.icon,                                                                                                                                                                                                                          
            type: mButtonConfig.type || sap.m.ButtonType.Default,                                                                                                                                                                                              
            press: () => {                                                                                                                                                                                                                                     
              var _this$_oDialog;                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                               
              this._sCloseButton = mButtonConfig.key || mButtonConfig.text;                                                                                                                                                                                    
              (_this$_oDialog = this._oDialog) === null || _this$_oDialog === void 0 ? void 0 : _this$_oDialog.close();                                                                                                                                        
            }                                                                                                                                                                                                                                                  
          }));                                                                                                                                                                                                                                                 
        });                                                                                                                                                                                                                                                    
      }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
      if (!this._aButtons) {                                                                                                                                                                                                                                   
        this._aButtons = [new Button({                                                                                                                                                                                                                         
          text: "{i18n>ok}",                                                                                                                                                                                                                                   
          press: () => {                                                                                                                                                                                                                                       
            var _this$_oDialog2;                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
            this._sCloseButton = "ok";                                                                                                                                                                                                                         
            (_this$_oDialog2 = this._oDialog) === null || _this$_oDialog2 === void 0 ? void 0 : _this$_oDialog2.close();                                                                                                                                       
          }                                                                                                                                                                                                                                                    
        }), new Button({                                                                                                                                                                                                                                       
          text: "{i18n>cancel}",                                                                                                                                                                                                                               
          press: () => {                                                                                                                                                                                                                                       
            var _this$_oDialog3;                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
            this._sCloseButton = "cancel";                                                                                                                                                                                                                     
            (_this$_oDialog3 = this._oDialog) === null || _this$_oDialog3 === void 0 ? void 0 : _this$_oDialog3.close();                                                                                                                                       
          }                                                                                                                                                                                                                                                    
        })];                                                                                                                                                                                                                                                   
      }                                                                                                                                                                                                                                                        
    }                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
  }                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
  _defineProperty(AsyncDialog, "OK_BUTTON", "ok");                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
  _defineProperty(AsyncDialog, "CANCEL_BUTTON", "cancel");                                                                                                                                                                                                     
                                                                                                                                                                                                                                                               
  return AsyncDialog;                                                                                                                                                                                                                                          
});                                                                                                                                                                                                                                                            
//# sourceMappingURL=AsyncDialog.js.map                                                                                                                                                                                                                        